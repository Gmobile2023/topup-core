2021-08-06 12:15:12.398 +07:00 [INF] [MassTransit.] Bus started: rabbitmq://103.109.43.93/paygate
2021-08-06 12:15:13.043 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered service with Consul Paygate.Discovery.Consul.ConsulServiceRegistration
2021-08-06 12:15:13.071 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered health check with Consul `SS-Heartbeat`
2021-08-06 12:15:13.087 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered health check with Consul `SS-HealthCheck`
2021-08-06 12:15:13.159 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Now listening on: "http://10.8.0.25:6791"
2021-08-06 12:15:13.161 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Application started. Press Ctrl+C to shut down.
2021-08-06 12:15:13.162 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Hosting environment: "Development"
2021-08-06 12:15:13.162 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Content root path: "E:\Source\TopupCard\topup_gate_core\HLS.Paygate.Commission.Hosting"
2021-08-06 12:33:56.505 +07:00 [INF] [MassTransit.] Bus started: rabbitmq://103.109.43.93/paygate
2021-08-06 12:33:57.045 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered service with Consul Paygate.Discovery.Consul.ConsulServiceRegistration
2021-08-06 12:33:57.101 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered health check with Consul `SS-Heartbeat`
2021-08-06 12:33:57.117 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered health check with Consul `SS-HealthCheck`
2021-08-06 12:33:57.183 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Now listening on: "http://10.8.0.25:6791"
2021-08-06 12:33:57.185 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Application started. Press Ctrl+C to shut down.
2021-08-06 12:33:57.186 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Hosting environment: "Development"
2021-08-06 12:33:57.186 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Content root path: "E:\Source\TopupCard\topup_gate_core\HLS.Paygate.Commission.Hosting"
2021-08-06 14:05:54.078 +07:00 [INF] [MassTransit.] Bus started: rabbitmq://103.109.43.93/paygate
2021-08-06 14:05:54.602 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered service with Consul Paygate.Discovery.Consul.ConsulServiceRegistration
2021-08-06 14:05:54.704 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered health check with Consul `SS-Heartbeat`
2021-08-06 14:05:54.721 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered health check with Consul `SS-HealthCheck`
2021-08-06 14:05:54.793 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Now listening on: "http://10.8.0.25:6791"
2021-08-06 14:05:54.794 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Application started. Press Ctrl+C to shut down.
2021-08-06 14:05:54.794 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Hosting environment: "Development"
2021-08-06 14:05:54.794 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Content root path: "E:\Source\TopupCard\topup_gate_core\HLS.Paygate.Commission.Hosting"
2021-08-06 14:08:54.164 +07:00 [INF] [HLS.Paygate.Commission.Interface.Consumers.CommissionTransactionConsumer.] CommissionTransactionConsumer request:{"__type":"GreenPipes.DynamicInternal.Paygate.Contracts.Commands.Commissions.CommissionTransactionCommand, Paygate.Contracts.Commands.CommissionsGreenPipes.DynamicInternalab134f291d9f4c658cb295575562adbe","receiverInfo":"0969898836","saleType":"Normal","channel":"WEB","partnerCode":"NT983021","transRef":"NT21080600000008","serviceCode":"TOPUP","paymentAmount":9500.00,"discountAmount":500,"amount":10000.00,"quantity":1,"productCode":"VTE_TOPUP_10","categoryCode":"VTE_TOPUP","timeStamp":"\/Date(1628233732402)\/","correlationId":"2aec82ed552d455ebb2e2c4436c8f2cf"}
2021-08-06 14:09:02.325 +07:00 [INF] [HLS.Paygate.Commission.Domain.Services.CommissionService.] CommissionRequest:{"__type":"GreenPipes.DynamicInternal.Paygate.Contracts.Commands.Commissions.CommissionTransactionCommand, Paygate.Contracts.Commands.CommissionsGreenPipes.DynamicInternalab134f291d9f4c658cb295575562adbe","receiverInfo":"0969898836","saleType":"Normal","channel":"WEB","partnerCode":"NT983021","transRef":"NT21080600000008","serviceCode":"TOPUP","paymentAmount":9500.00,"discountAmount":500,"amount":10000.00,"quantity":1,"productCode":"VTE_TOPUP_10","categoryCode":"VTE_TOPUP","timeStamp":"\/Date(1628233732402)\/","correlationId":"2aec82ed552d455ebb2e2c4436c8f2cf"}
2021-08-06 14:09:06.542 +07:00 [INF] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount request:-VTE_TOPUP_10
2021-08-06 14:09:06.737 +07:00 [ERR] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount error: System.ArgumentNullException: Value cannot be null. (Parameter 'path')
   at ServiceStack.StringExtensions.WithTrailingSlash(String path) in C:\BuildAgent\work\912418dcce86a188\src\ServiceStack.Text\StringExtensions.cs:line 240
   at ServiceStack.ServiceClientBase.SetBaseUri(String baseUri) in C:\BuildAgent\work\3481147c480f4a2f\src\ServiceStack.Client\ServiceClientBase.cs:line 114
   at ServiceStack.JsonServiceClient..ctor(String baseUri) in C:\BuildAgent\work\3481147c480f4a2f\src\ServiceStack.Client\JsonServiceClient.cs:line 17
   at HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.CheckProductDiscount(String account, String productCode, Decimal amount, Int32 quantity) in E:\Source\TopupCard\topup_gate_core\HLS.Paygate.Shared\AbpConnector\AbpConnectorService.cs:line 39
2021-08-06 14:09:22.773 +07:00 [WRN] [HLS.Paygate.Commission.Domain.Services.CommissionService.] NT21080600000008 Cannot get discount parentAccount
2021-08-06 14:09:22.780 +07:00 [INF] [HLS.Paygate.Commission.Interface.Consumers.CommissionTransactionConsumer.] CommissionTransactionConsumer return:HLS.Paygate.Shared.NewMessageReponseBase`1[System.Object]-NT21080600000008
2021-08-06 14:11:09.128 +07:00 [INF] [HLS.Paygate.Commission.Interface.Consumers.CommissionTransactionConsumer.] CommissionTransactionConsumer request:{"__type":"GreenPipes.DynamicInternal.Paygate.Contracts.Commands.Commissions.CommissionTransactionCommand, Paygate.Contracts.Commands.CommissionsGreenPipes.DynamicInternalab134f291d9f4c658cb295575562adbe","receiverInfo":"0969898836","saleType":"Normal","channel":"WEB","partnerCode":"NT983021","transRef":"NT21080600000009","serviceCode":"TOPUP","paymentAmount":9500.00,"discountAmount":500,"amount":10000.00,"quantity":1,"productCode":"VTE_TOPUP_10","categoryCode":"VTE_TOPUP","timeStamp":"\/Date(1628233867848)\/","correlationId":"3e8c61ecf73e4981a1985809dfa09112"}
2021-08-06 14:11:12.063 +07:00 [INF] [HLS.Paygate.Commission.Domain.Services.CommissionService.] CommissionRequest:{"__type":"GreenPipes.DynamicInternal.Paygate.Contracts.Commands.Commissions.CommissionTransactionCommand, Paygate.Contracts.Commands.CommissionsGreenPipes.DynamicInternalab134f291d9f4c658cb295575562adbe","receiverInfo":"0969898836","saleType":"Normal","channel":"WEB","partnerCode":"NT983021","transRef":"NT21080600000009","serviceCode":"TOPUP","paymentAmount":9500.00,"discountAmount":500,"amount":10000.00,"quantity":1,"productCode":"VTE_TOPUP_10","categoryCode":"VTE_TOPUP","timeStamp":"\/Date(1628233867848)\/","correlationId":"3e8c61ecf73e4981a1985809dfa09112"}
2021-08-06 14:11:22.837 +07:00 [INF] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount request:-VTE_TOPUP_10
2021-08-06 14:11:22.855 +07:00 [ERR] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount error: System.ArgumentNullException: Value cannot be null. (Parameter 'path')
   at ServiceStack.StringExtensions.WithTrailingSlash(String path) in C:\BuildAgent\work\912418dcce86a188\src\ServiceStack.Text\StringExtensions.cs:line 240
   at ServiceStack.ServiceClientBase.SetBaseUri(String baseUri) in C:\BuildAgent\work\3481147c480f4a2f\src\ServiceStack.Client\ServiceClientBase.cs:line 114
   at ServiceStack.JsonServiceClient..ctor(String baseUri) in C:\BuildAgent\work\3481147c480f4a2f\src\ServiceStack.Client\JsonServiceClient.cs:line 17
   at HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.CheckProductDiscount(String account, String productCode, Decimal amount, Int32 quantity) in E:\Source\TopupCard\topup_gate_core\HLS.Paygate.Shared\AbpConnector\AbpConnectorService.cs:line 39
2021-08-06 14:11:23.610 +07:00 [WRN] [HLS.Paygate.Commission.Domain.Services.CommissionService.] NT21080600000009 Cannot get discount parentAccount
2021-08-06 14:11:23.611 +07:00 [INF] [HLS.Paygate.Commission.Interface.Consumers.CommissionTransactionConsumer.] CommissionTransactionConsumer return:HLS.Paygate.Shared.NewMessageReponseBase`1[System.Object]-NT21080600000009
2021-08-06 14:15:21.406 +07:00 [INF] [HLS.Paygate.Commission.Interface.Consumers.CommissionTransactionConsumer.] CommissionTransactionConsumer request:{"__type":"GreenPipes.DynamicInternal.Paygate.Contracts.Commands.Commissions.CommissionTransactionCommand, Paygate.Contracts.Commands.CommissionsGreenPipes.DynamicInternalab134f291d9f4c658cb295575562adbe","receiverInfo":"0969898836","saleType":"Normal","channel":"WEB","partnerCode":"NT983021","transRef":"NT21080600000010","serviceCode":"TOPUP","paymentAmount":9500.00,"discountAmount":500,"amount":10000.00,"quantity":1,"productCode":"VTE_TOPUP_10","categoryCode":"VTE_TOPUP","timeStamp":"\/Date(1628234112567)\/","correlationId":"93a6aef9258d407a891d09856597149a"}
2021-08-06 14:15:34.060 +07:00 [INF] [HLS.Paygate.Commission.Domain.Services.CommissionService.] CommissionRequest:{"__type":"GreenPipes.DynamicInternal.Paygate.Contracts.Commands.Commissions.CommissionTransactionCommand, Paygate.Contracts.Commands.CommissionsGreenPipes.DynamicInternalab134f291d9f4c658cb295575562adbe","receiverInfo":"0969898836","saleType":"Normal","channel":"WEB","partnerCode":"NT983021","transRef":"NT21080600000010","serviceCode":"TOPUP","paymentAmount":9500.00,"discountAmount":500,"amount":10000.00,"quantity":1,"productCode":"VTE_TOPUP_10","categoryCode":"VTE_TOPUP","timeStamp":"\/Date(1628234112567)\/","correlationId":"93a6aef9258d407a891d09856597149a"}
2021-08-06 14:15:34.065 +07:00 [INF] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount request:-VTE_TOPUP_10
2021-08-06 14:15:34.087 +07:00 [ERR] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount error: System.ArgumentNullException: Value cannot be null. (Parameter 'path')
   at ServiceStack.StringExtensions.WithTrailingSlash(String path) in C:\BuildAgent\work\912418dcce86a188\src\ServiceStack.Text\StringExtensions.cs:line 240
   at ServiceStack.ServiceClientBase.SetBaseUri(String baseUri) in C:\BuildAgent\work\3481147c480f4a2f\src\ServiceStack.Client\ServiceClientBase.cs:line 114
   at ServiceStack.JsonServiceClient..ctor(String baseUri) in C:\BuildAgent\work\3481147c480f4a2f\src\ServiceStack.Client\JsonServiceClient.cs:line 17
   at HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.CheckProductDiscount(String account, String productCode, Decimal amount, Int32 quantity) in E:\Source\TopupCard\topup_gate_core\HLS.Paygate.Shared\AbpConnector\AbpConnectorService.cs:line 39
2021-08-06 14:15:34.090 +07:00 [WRN] [HLS.Paygate.Commission.Domain.Services.CommissionService.] NT21080600000010 Cannot get discount parentAccount
2021-08-06 14:15:34.091 +07:00 [INF] [HLS.Paygate.Commission.Interface.Consumers.CommissionTransactionConsumer.] CommissionTransactionConsumer return:HLS.Paygate.Shared.NewMessageReponseBase`1[System.Object]-NT21080600000010
2021-08-06 14:20:36.636 +07:00 [INF] [MassTransit.] Bus started: rabbitmq://103.109.43.93/paygate
2021-08-06 14:20:37.165 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered service with Consul Paygate.Discovery.Consul.ConsulServiceRegistration
2021-08-06 14:20:37.216 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered health check with Consul `SS-Heartbeat`
2021-08-06 14:20:37.298 +07:00 [INF] [Paygate.Discovery.Consul.ConsulClient.] Registered health check with Consul `SS-HealthCheck`
2021-08-06 14:20:37.378 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Now listening on: "http://10.8.0.25:6791"
2021-08-06 14:20:37.379 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Application started. Press Ctrl+C to shut down.
2021-08-06 14:20:37.380 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Hosting environment: "Development"
2021-08-06 14:20:37.380 +07:00 [INF] [Microsoft.Hosting.Lifetime.] Content root path: "E:\Source\TopupCard\topup_gate_core\HLS.Paygate.Commission.Hosting"
2021-08-06 14:24:05.611 +07:00 [INF] [HLS.Paygate.Commission.Interface.Consumers.CommissionTransactionConsumer.] CommissionTransactionConsumer request:{"__type":"GreenPipes.DynamicInternal.Paygate.Contracts.Commands.Commissions.CommissionTransactionCommand, Paygate.Contracts.Commands.CommissionsGreenPipes.DynamicInternal8acfa84dfd314257b84aa916bb4b9e53","receiverInfo":"0969898836","saleType":"Normal","channel":"WEB","partnerCode":"NT983021","parentCode":"NT951709","transRef":"NT21080600000011","serviceCode":"TOPUP","paymentAmount":9500.00,"discountAmount":500,"amount":10000.00,"quantity":1,"productCode":"VTE_TOPUP_10","categoryCode":"VTE_TOPUP","timeStamp":"\/Date(1628234631546)\/","correlationId":"60ca875f99e848b3bc8d36f287de3d0e"}
2021-08-06 14:24:06.853 +07:00 [INF] [HLS.Paygate.Commission.Domain.Services.CommissionService.] CommissionRequest:{"__type":"GreenPipes.DynamicInternal.Paygate.Contracts.Commands.Commissions.CommissionTransactionCommand, Paygate.Contracts.Commands.CommissionsGreenPipes.DynamicInternal8acfa84dfd314257b84aa916bb4b9e53","receiverInfo":"0969898836","saleType":"Normal","channel":"WEB","partnerCode":"NT983021","parentCode":"NT951709","transRef":"NT21080600000011","serviceCode":"TOPUP","paymentAmount":9500.00,"discountAmount":500,"amount":10000.00,"quantity":1,"productCode":"VTE_TOPUP_10","categoryCode":"VTE_TOPUP","timeStamp":"\/Date(1628234631546)\/","correlationId":"60ca875f99e848b3bc8d36f287de3d0e"}
2021-08-06 14:24:07.518 +07:00 [INF] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount request:NT951709-VTE_TOPUP_10
2021-08-06 14:24:07.668 +07:00 [ERR] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount error: System.ArgumentNullException: Value cannot be null. (Parameter 'path')
   at ServiceStack.StringExtensions.WithTrailingSlash(String path) in C:\BuildAgent\work\912418dcce86a188\src\ServiceStack.Text\StringExtensions.cs:line 240
   at ServiceStack.ServiceClientBase.SetBaseUri(String baseUri) in C:\BuildAgent\work\3481147c480f4a2f\src\ServiceStack.Client\ServiceClientBase.cs:line 114
   at ServiceStack.JsonServiceClient..ctor(String baseUri) in C:\BuildAgent\work\3481147c480f4a2f\src\ServiceStack.Client\JsonServiceClient.cs:line 17
   at HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.CheckProductDiscount(String account, String productCode, Decimal amount, Int32 quantity) in E:\Source\TopupCard\topup_gate_core\HLS.Paygate.Shared\AbpConnector\AbpConnectorService.cs:line 39
2021-08-06 14:24:27.881 +07:00 [INF] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount request:NT951709-VTE_TOPUP_10
2021-08-06 14:24:27.907 +07:00 [ERR] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount error: System.ArgumentNullException: Value cannot be null. (Parameter 'path')
   at ServiceStack.StringExtensions.WithTrailingSlash(String path) in C:\BuildAgent\work\912418dcce86a188\src\ServiceStack.Text\StringExtensions.cs:line 240
   at ServiceStack.ServiceClientBase.SetBaseUri(String baseUri) in C:\BuildAgent\work\3481147c480f4a2f\src\ServiceStack.Client\ServiceClientBase.cs:line 114
   at ServiceStack.JsonServiceClient..ctor(String baseUri) in C:\BuildAgent\work\3481147c480f4a2f\src\ServiceStack.Client\JsonServiceClient.cs:line 17
   at HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.CheckProductDiscount(String account, String productCode, Decimal amount, Int32 quantity) in E:\Source\TopupCard\topup_gate_core\HLS.Paygate.Shared\AbpConnector\AbpConnectorService.cs:line 39
2021-08-06 14:24:27.909 +07:00 [WRN] [HLS.Paygate.Commission.Domain.Services.CommissionService.] NT21080600000011 Cannot get discount parentAccount
2021-08-06 14:24:27.910 +07:00 [INF] [HLS.Paygate.Commission.Interface.Consumers.CommissionTransactionConsumer.] CommissionTransactionConsumer return:HLS.Paygate.Shared.NewMessageReponseBase`1[System.Object]-NT21080600000011
2021-08-06 14:25:48.318 +07:00 [INF] [HLS.Paygate.Commission.Interface.Consumers.CommissionTransactionConsumer.] CommissionTransactionConsumer request:{"__type":"GreenPipes.DynamicInternal.Paygate.Contracts.Commands.Commissions.CommissionTransactionCommand, Paygate.Contracts.Commands.CommissionsGreenPipes.DynamicInternal8acfa84dfd314257b84aa916bb4b9e53","receiverInfo":"0969898836","saleType":"Normal","channel":"WEB","partnerCode":"NT983021","parentCode":"NT951709","transRef":"NT21080600000012","serviceCode":"TOPUP","paymentAmount":9500.00,"discountAmount":500,"amount":10000.00,"quantity":1,"productCode":"VTE_TOPUP_10","categoryCode":"VTE_TOPUP","timeStamp":"\/Date(1628234746212)\/","correlationId":"f1813d6efb1d406db48e1228ea1fa25e"}
2021-08-06 14:25:49.505 +07:00 [INF] [HLS.Paygate.Commission.Domain.Services.CommissionService.] CommissionRequest:{"__type":"GreenPipes.DynamicInternal.Paygate.Contracts.Commands.Commissions.CommissionTransactionCommand, Paygate.Contracts.Commands.CommissionsGreenPipes.DynamicInternal8acfa84dfd314257b84aa916bb4b9e53","receiverInfo":"0969898836","saleType":"Normal","channel":"WEB","partnerCode":"NT983021","parentCode":"NT951709","transRef":"NT21080600000012","serviceCode":"TOPUP","paymentAmount":9500.00,"discountAmount":500,"amount":10000.00,"quantity":1,"productCode":"VTE_TOPUP_10","categoryCode":"VTE_TOPUP","timeStamp":"\/Date(1628234746212)\/","correlationId":"f1813d6efb1d406db48e1228ea1fa25e"}
2021-08-06 14:25:50.786 +07:00 [INF] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount request:NT951709-VTE_TOPUP_10
2021-08-06 14:25:51.136 +07:00 [INF] [HLS.Paygate.Shared.AbpConnector.ExternalServiceConnector.] CheckProductDiscount response:True-{"productValue":10000.00,"productCode":"VTE_TOPUP_10","productName":"Viettel 10","discountValue":10.00,"discountAmount":1000.0,"paymentAmount":9000.00}
2021-08-06 14:26:21.920 +07:00 [INF] [HLS.Paygate.Commission.Interface.Consumers.CommissionTransactionConsumer.] CommissionTransactionConsumer return:HLS.Paygate.Shared.NewMessageReponseBase`1[System.Object]-NT21080600000012
